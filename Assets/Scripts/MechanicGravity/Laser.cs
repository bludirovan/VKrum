using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.SceneManagement;

public class Laser : MonoBehaviour
{
    // ????? ????? ?????? (?? ?????????????, ????? ?? ??? ???????????) 
    //public float lifetime = 5f;
    // ????? ???????? ????????, ???? ????? ????????? (?????????????)
    // public float speed = 10f;

    void Start()
    {
        // ????????????? ?????????? ?????? ?????? ????? ???????? ????? 
        //Destroy(gameObject, lifetime); 
    }

    // ????????? ??????????? ??????????? 
    private void OnTriggerEnter(Collider other)
    {
        // ????????????, ??? ????? ????? ??? "Player" 
        if (other.CompareTag("Player"))
        {
            // ????? ????? ??????? ????? ?????? ??????. ????????: 
            PlayerHealth playerHealth = other.GetComponent<PlayerHealth>();
            if (playerHealth != null)
            {
                playerHealth.Die();
                // ???? ?????????? ???, ?????, ????????, ????????????? ?????
                Debug.Log("????? ????? ? ?????. ????????? PlayerHealth ?? ??????!");
                SceneManager.LoadScene(SceneManager.GetActiveScene().name);
            }
            else
            {
                // ???? ?????????? ???, ?????, ????????, ????????????? ????? 
                Debug.Log("????? ????? ? ?????. ????????? PlayerHealth ?? ??????!");
                SceneManager.LoadScene(SceneManager.GetActiveScene().name);
            }

            // ????? ????????????? ?????????? ?????? ??? ???? ????????????, ???? ??????????. 
        }
    }

    void Update()
    {
        // ???? ????? ?????? ?????????, ????????, ??????: 
        // transform.Translate(Vector3.forward * speed * Time.deltaTime); 
    }
}